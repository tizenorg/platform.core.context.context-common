CMAKE_MINIMUM_REQUIRED(VERSION 2.6)
PROJECT(context-common)
INCLUDE(GNUInstallDirs)

INCLUDE(FindPkgConfig)
INCLUDE_DIRECTORIES(
	${CMAKE_CURRENT_SOURCE_DIR}/include
)
ADD_DEFINITIONS(-g -O2 -Wall -fPIC -Wl,--as-needed)

# Install
INSTALL(
	DIRECTORY ${CMAKE_CURRENT_SOURCE_DIR}/include/
	DESTINATION ${CMAKE_INSTALL_INCLUDEDIR}/context-service/internal
	FILES_MATCHING PATTERN "*.h"
)

ADD_SUBDIRECTORY(src/shared)
ADD_SUBDIRECTORY(src/server)
